# الگوهای درخواست

برای پاسخگویی به نیازهای سفارشی‌تر توسعه‌دهندگان برای LLM، دیفای تمام درخواست‌های کامل تعبیه شده در **حالت کارشناسی** را باز کرده است و الگوهای اولیه را در رابط ساخت قرار داده است. در زیر چهار الگوی اولیه برای مرجع ارائه شده است:

### 1. استفاده از مدل‌های چت برای ساخت برنامه‌های گفتگو

* **SYSTEM**

```
از متن زیر به عنوان دانش یادگرفته شده خود، در داخل برچسب‌های XML <context></context> استفاده کنید.

<context>
{{#context#}}
</context>

هنگام پاسخ به کاربر:
- اگر نمی‌دانید، فقط بگویید نمی‌دانید.
- اگر هنگام عدم اطمینان نمی‌دانید، درخواست روشن‌سازی کنید.
از ذکر اینکه اطلاعات را از متن به دست آورده‌اید، خودداری کنید.
و با توجه به زبان پرسش کاربر پاسخ دهید.
{{pre_prompt}}
```

* **USER**

```
{{Query}} // متغیرهای پرسش را اینجا وارد کنید.
```

* **ASSISTANT**

```
""
```

#### **ساختار درخواست：**

* `Context`
* `Pre-prompt`
* `Query`

### 2. استفاده از مدل‌های چت برای ساخت برنامه‌های مولد متن

* **SYSTEM**

```
از متن زیر به عنوان دانش یادگرفته شده خود، در داخل برچسب‌های XML <context></context> استفاده کنید.

<context>
{{#context#}}
</context>

هنگام پاسخ به کاربر:
- اگر نمی‌دانید، فقط بگویید نمی‌دانید.
- اگر هنگام عدم اطمینان نمی‌دانید، درخواست روشن‌سازی کنید.
از ذکر اینکه اطلاعات را از متن به دست آورده‌اید، خودداری کنید.
و با توجه به زبان پرسش کاربر پاسخ دهید.
{{pre_prompt}}
```

* **USER**

```
{{Query}} // متغیرهای پرسش را اینجا وارد کنید.
```

* **ASSISTANT**

```
""
```

#### **ساختار درخواست：**

* `Context`
* `Pre-prompt`
* `Query`

### 3. استفاده از مدل‌های کامل برای ساخت برنامه‌های گفتگو

```
از متن زیر به عنوان دانش یادگرفته شده خود، در داخل برچسب‌های XML <context></context> استفاده کنید.

<context>
{{#context#}}
</context>

هنگام پاسخ به کاربر:
- اگر نمی‌دانید، فقط بگویید نمی‌دانید.
- اگر هنگام عدم اطمینان نمی‌دانید، درخواست روشن‌سازی کنید.
از ذکر اینکه اطلاعات را از متن به دست آورده‌اید، خودداری کنید.
و با توجه به زبان پرسش کاربر پاسخ دهید.

{{pre_prompt}}

در اینجا تاریخچه چت بین انسان و دستیار، در داخل برچسب‌های XML <histories></histories> قرار دارد.

<histories>
{{#histories#}}
</histories>


انسان: {{#query#}}

دستیار: 
```

**ساختار درخواست：**

* `Context`
* `Pre-prompt`
* `History`
* `Query`

### 4. استفاده از مدل‌های کامل برای ساخت برنامه‌های مولد متن

```
از متن زیر به عنوان دانش یادگرفته شده خود، در داخل برچسب‌های XML <context></context> استفاده کنید.

<context>
{{#context#}}
</context>

هنگام پاسخ به کاربر:
- اگر نمی‌دانید، فقط بگویید نمی‌دانید.
- اگر هنگام عدم اطمینان نمی‌دانید، درخواست روشن‌سازی کنید.
از ذکر اینکه اطلاعات را از متن به دست آورده‌اید، خودداری کنید.
و با توجه به زبان پرسش کاربر پاسخ دهید.

{{pre_prompt}}
{{query}}
```

#### **ساختار درخواست：**

* `Context`
* `Pre-prompt`
* `Query`

{% hint style="warning" %}
دیفای با برخی از ارائه دهندگان مدل برای بهینه سازی عمیق مشترک درخواست‌های سیستم همکاری کرده است، و الگوهای اولیه برای برخی مدل‌ها ممکن است با مثال‌های ارائه شده در بالا متفاوت باشد.
{% endhint %}

### **تعاریف پارامتر**&#x20;

* **Context**: برای وارد کردن متن مرتبط از دانش به عنوان زمینه در درخواست‌های کامل استفاده می‌شود.&#x20;
* **Pre-prompt**: درخواست‌های پیش‌فرض مرتب شده در **حالت پایه** در درخواست‌های کامل وارد می‌شوند.&#x20;
* **History**: هنگام ساخت یک برنامه گفتگو با استفاده از مدل‌های مولد متن، سیستم تاریخچه گفتگوی کاربر را به عنوان زمینه در درخواست‌های کامل وارد می‌کند. از آنجایی که برخی مدل‌ها ممکن است نسبت به پیشوندهای نقش متفاوت پاسخ دهند، شما همچنین می‌توانید نام پیشوند نقش را در تنظیمات تاریخچه گفتگو تغییر دهید، برای مثال، تغییر نام "دستیار" به "AI".
* **Query**: محتوای پرسش نشان دهنده مقادیر متغیر مورد استفاده برای وارد کردن سوالاتی است که کاربران در طول گفتگو وارد می‌کنند.


