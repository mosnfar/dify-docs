# ابزار داده‌های خارجی

## معرفی ویژگی

قبلاً ویژگی [.](./ "ذکر") به توسعه‌دهندگان اجازه می‌داد تا مستقیماً انواع مختلفی از متن‌های طولانی و داده‌های ساختاریافته را برای ساخت مجموعه داده‌ها بارگذاری کنند و به برنامه‌های هوش مصنوعی اجازه می‌دادند تا با توجه به جدیدترین زمینه ارائه شده توسط کاربر، در گفتگوها شرکت کنند.

با این به‌روزرسانی، **ابزار داده‌های خارجی** به توسعه‌دهندگان قدرت می‌دهد تا از قابلیت‌های جستجوی خود یا پایگاه‌های دانش داخلی خود به عنوان داده‌های خارجی برای زمینه LLM استفاده کنند. این کار با گسترش API برای بازیابی و تعبیه داده‌های خارجی در اعلان‌ها انجام می‌شود. در مقایسه با بارگذاری مجموعه داده‌ها در ابر، استفاده از **ابزار داده‌های خارجی** مزایای قابل توجهی در تضمین امنیت داده‌های خصوصی، سفارشی‌سازی جستجوها و دسترسی به داده‌های بلادرنگ ارائه می‌دهد.

## جزئیات پیاده‌سازی

هنگامی که یک کاربر نهایی درخواستی به سیستم گفتگو ارسال می‌کند، بک‌اند پلتفرم ابزار داده‌های خارجی را فعال می‌کند (یعنی API خود را فراخوانی می‌کند). اطلاعات خارجی مربوط به سوال کاربر مانند پروفایل کارمندان یا سوابق بلادرنگ را جستجو می‌کند و بخش‌های مرتبط را از طریق API بازمی‌گرداند. بک‌اند پلتفرم نتایج بازگردانده شده را به متن تبدیل می‌کند و آن را به عنوان زمینه در اعلان قرار می‌دهد تا پاسخ‌های شخصی‌تر و مطابق با نیاز کاربر ارائه شود.

## دستورالعمل‌های عملیاتی

1. قبل از استفاده از ابزار داده‌های خارجی، باید یک API و یک کلید API برای احراز هویت آماده کنید. لطفاً [ابزار داده‌های خارجی](https://docs.dify.ai/guides/extension/api-based-extension/external-data-tool) را مطالعه کنید.
2. Dify مدیریت API متمرکز را ارائه می‌دهد. پس از افزودن پیکربندی توسعه API در رابط تنظیمات، می‌توان از آن مستقیماً در برنامه‌های مختلف Dify استفاده کرد.

<figure><img src="../../.gitbook/assets/api_based (1).png" alt=""><figcaption><p> توسعه مبتنی بر API</p></figcaption></figure>

3. به عنوان مثال، برای "جستجوی آب و هوا"، نام، نقطه انتهایی API و کلید API را در کادر محاوره‌ای "افزودن توسعه مبتنی بر API" وارد کنید. پس از ذخیره، می‌توانیم API را فراخوانی کنیم.

<figure><img src="../../.gitbook/assets/weather inquiry (1).png" alt=""><figcaption><p>جستجوی آب و هوا</p></figcaption></figure>

4. در صفحه هماهنگی اعلان، روی دکمه "+ Add" کنار "ابزارها" کلیک کنید. در کادر محاوره‌ای "افزودن ابزار" باز شده، نام و نام متغیر را پر کنید (نام متغیر در اعلان ارجاع داده می‌شود، لطفاً انگلیسی را پر کنید) و توسعه مبتنی بر API را که در مرحله 2 اضافه شده است انتخاب کنید.

<figure><img src="../../.gitbook/assets/api_based_extension1 (1).png" alt=""><figcaption><p>External_data_tool</p></figcaption></figure>

5. به این ترتیب، می‌توانیم داده‌های خارجی پرس و جو شده را در اعلان قرار دهیم. به عنوان مثال، برای پرس و جو در مورد آب و هوای امروز در لندن، می‌توانید متغیر `location` را اضافه کنید، "لندن" را وارد کنید، آن را با نام متغیر توسعه ابزار داده‌های خارجی `weather_data` ترکیب کنید، و خروجی اشکال زدایی به شرح زیر خواهد بود:

<figure><img src="../../.gitbook/assets/Weather_search_tool (1).jpeg" alt=""><figcaption><p>ابزار جستجوی آب و هوا</p></figcaption></figure>

همچنین می‌توانیم داده‌های بلادرنگ بازگردانده شده توسط API را در لاگ‌های گفتگو ببینیم:

<figure><img src="../../.gitbook/assets/log (1).jpeg" alt="" width="335"><figcaption><p>لاگ اعلان</p></figcaption></figure>


