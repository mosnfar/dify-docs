# حالت‌های بازیابی

وقتی کاربران برنامه‌های هوش مصنوعی را با چندین پایگاه دانش می‌سازند، استراتژی بازیابی Dify تعیین می‌کند کدام محتوا بازیابی می‌شود.

<figure><img src="../../../.gitbook/assets/en-rag-multiple.png" alt=""><figcaption><p>تنظیمات حالت بازیابی</p></figcaption></figure>

### تنظیم بازیابی

با توجه به هدف کاربر، تمام مجموعه‌های داده‌ها را مطابقت می‌دهد، و قطعات متنی مرتبط را همزمان از چندین مجموعه داده بازیابی می‌کند. پس از یک مرحله رتبه‌بندی مجدد، بهترین نتایج مطابق با پرس‌وجوی کاربر از نتایج پرس‌وجوی چند مسیری انتخاب می‌شوند، که نیاز به یک API مدل رتبه‌بندی مجدد پیکربندی شده دارد. در حالت بازیابی چند مسیری، بازیابنده در جستجوی محتوای متنی مرتبط با پرس‌وجوی کاربر در تمام مجموعه‌های داده‌های مرتبط با برنامه است، نتایج سند مرتبط را از بازیابی چند مسیری ادغام می‌کند و اسناد بازیابی شده را به طور معنایی با استفاده از مدل رتبه‌بندی مجدد، رتبه‌بندی مجدد می‌کند.

در حالت بازیابی چند مسیری، توصیه می‌شود مدل رتبه‌بندی مجدد پیکربندی شود.

در زیر نمودار جریان فنی برای حالت بازیابی چند مسیری آمده است:

<figure><img src="../../../.gitbook/assets/rerank-flow-chart.png" alt=""><figcaption><p>بازیابی چند مسیری</p></figcaption></figure>

از آنجایی که حالت بازیابی چند مسیری به قابلیت استنتاج مدل یا توضیحات مجموعه داده‌ها متکی نیست، می‌تواند هنگام بازیابی از چندین مجموعه داده، نتایج بازیابی با کیفیت بالاتری را به دست آورد. علاوه بر این، ادغام یک مرحله رتبه‌بندی مجدد می‌تواند به طور موثر کارایی بازیابی سند را بهبود بخشد. بنابراین، هنگام ایجاد برنامه‌های Q\&A پایگاه دانش مرتبط با چندین مجموعه داده، توصیه می‌شود حالت بازیابی را به عنوان بازیابی چند مسیری پیکربندی کنید. 
